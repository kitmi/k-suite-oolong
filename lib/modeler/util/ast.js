"use strict";

require("source-map-support/register");

const {
  _
} = require('rk-utils');

const escodegen = require('escodegen');

const esprima = require('esprima');

const AST_OBJECT_TYPES = ['ThisExpression', 'MemberExpression', 'BinaryExpression', 'UnaryExpression', 'ArrowFunctionExpression', 'FunctionExpression', 'ArrayExpression', 'ObjectExpression', 'CallExpression', 'YieldExpression', 'AwaitExpression', 'AssignmentExpression', 'Literal', 'Identifier'];

function astParams(params) {
  params = Array.isArray(params) ? params : [params];
  return params.map(p => {
    if (typeof p === 'string') {
      return astId(p);
    }

    if (_.isPlainObject(p)) {
      if (p.type === 'Identifier' || p.type === 'AssignmentPattern') {
        return p;
      }

      if (p.oolType === 'Parameter') {
        if (p.defaultValue) {
          return {
            "type": "AssignmentPattern",
            "left": {
              "type": "Identifier",
              "name": p.name
            },
            "right": astLiteral(p.defaultValue)
          };
        }

        return astId(p.name);
      }
    }

    throw new Error('Invalid param: ' + JSON.stringify(p));
  });
}

function mapArgs(args) {
  args = Array.isArray(args) ? args : [args];
  if (_.isEmpty(args)) return [];
  return args.map(a => {
    if (_.isPlainObject(a) && 'type' in a) {
      return a;
    }

    return astValue(a);
  });
}

function mapBody(body) {
  if (Array.isArray(body)) {
    return astBlock(body);
  }

  if (_.isPlainObject(body) && 'type' in body) {
    return body;
  }

  return astValue(body);
}

function astProgram(strict = true) {
  return {
    "type": "Program",
    "body": strict ? [astExpression(astValue('use strict'))] : [],
    "sourceType": "script"
  };
}

function astRequire(varName, requirePath, isObjDestruct = false) {
  return {
    "type": "VariableDeclaration",
    "declarations": [{
      "type": "VariableDeclarator",
      "id": isObjDestruct ? astObjPat(varName) : astId(varName),
      "init": astCall('require', [astValue(requirePath)])
    }],
    "kind": "const"
  };
}

function astLeadingComments(comment, type = 'Line') {
  return comment ? {
    "leadingComments": [{
      "type": type,
      "value": comment,
      "range": [1, comment.length + 3]
    }]
  } : {};
}

function astVarDeclare(left, right, isConstant = false, isObjDestruct = false, comment = false) {
  return {
    "type": "VariableDeclaration",
    "declarations": [{
      "type": "VariableDeclarator",
      "id": isObjDestruct ? astObjPat(left) : astId(left),
      "init": _.isNil(right) ? null : astValue(right)
    }],
    "kind": isConstant ? "const" : "let",
    ...astLeadingComments(comment)
  };
}

function astClassDeclare(className, superClassName, body, comment = false) {
  let ast = {
    "type": "ClassDeclaration",
    "id": astId(className),
    ...(comment ? astLeadingComments(`*\n * ${comment}\n * @class\n `, 'Block') : {})
  };

  if (superClassName) {
    ast['superClass'] = astId(superClassName);
  }

  ast['body'] = {
    "type": "ClassBody",
    "body": body ? Array.isArray(body) ? body : [body] : []
  };
  return ast;
}

function astMemberMethod(name, params, body, generator = false, async = false, isStatic = false, comment = false) {
  return {
    "type": "MethodDefinition",
    "key": astId(name),
    "computed": false,
    "value": astAnonymousFunction(params, body, generator, async),
    "kind": "method",
    "static": isStatic,
    ...(comment ? astLeadingComments(`*\n * ${comment}${params.map(p => `\n * @param ${p}`).join('')}${Array.isArray(body) && _.last(body).type === 'ReturnStatement' ? '\n * @returns {*}' : ''}\n `, 'Block') : {})
  };
}

function astIf(test, consequent, alternate, comment = false) {
  return {
    "type": "IfStatement",
    "test": astValue(test),
    "consequent": mapBody(consequent),
    "alternate": _.isNil(alternate) ? null : mapBody(alternate),
    ...astLeadingComments(comment)
  };
}

function astBinExp(left, operator, right) {
  return {
    "type": "BinaryExpression",
    "operator": operator,
    "left": astValue(left),
    "right": astValue(right)
  };
}

function astLogicalExp(left, operator, right) {
  return {
    "type": "LogicalExpression",
    "operator": operator,
    "left": astValue(left),
    "right": astValue(right)
  };
}

function astCall(functionName, args) {
  return {
    "type": "CallExpression",
    "callee": _.isPlainObject(functionName) ? functionName : astVarRef(functionName),
    "arguments": mapArgs(args)
  };
}

function astYield(target, delegate = false) {
  return {
    "type": "YieldExpression",
    "argument": target,
    "delegate": delegate
  };
}

function astAwait(functionName, args) {
  return {
    "type": "AwaitExpression",
    "argument": astCall(functionName, args)
  };
}

function astArrayAccess(name, index) {
  return {
    "type": "MemberExpression",
    "computed": true,
    "object": astVarRef(name),
    "property": {
      "type": "Literal",
      "value": index,
      "raw": `${index}`
    }
  };
}

function astVarRef(name, elementStyle = false) {
  if (_.isPlainObject(name)) {
    if (name.type === 'MemberExpression' || name.type === 'Identifier') {
      return name;
    }

    if (name.oolType === 'ObjectReference') {
      return astVarRef(name.name, elementStyle);
    }

    throw new Error('Invalid reference: ' + JSON.stringify(name));
  }

  let p = name.split('.');

  if (p.length > 1) {
    let result = {
      "type": "MemberExpression",
      "computed": elementStyle,
      "property": elementStyle ? astLiteral(p.pop()) : astId(p.pop())
    };
    let last = result;

    while (p.length > 1) {
      last["object"] = {
        "type": "MemberExpression",
        "computed": elementStyle,
        "property": elementStyle ? astLiteral(p.pop()) : astId(p.pop())
      };
      last = last["object"];
    }

    last["object"] = p[0] === 'this' ? astThis() : astId(p[0]);
    return result;
  } else {
    return astId(name);
  }
}

function astThis() {
  return {
    "type": "ThisExpression"
  };
}

function astId(name) {
  if (typeof name === 'string') {
    return {
      "type": "Identifier",
      "name": name
    };
  } else if (_.isPlainObject(name) && name.type === 'Identifier') {
    return name;
  }

  throw new Error('Invalid identifier name: ' + JSON.stringify(name));
}

function astObjPat(keys) {
  return {
    "type": "ObjectPattern",
    "properties": _.map(keys, k => ({
      "type": "Property",
      "key": astId(k),
      "computed": false,
      "value": astId(k),
      "kind": "init",
      "method": false,
      "shorthand": true
    }))
  };
}

function astMember(key, any, shorthand = false) {
  return {
    "type": "Property",
    "key": astId(key),
    "computed": false,
    "value": any,
    "kind": "init",
    "method": false,
    "shorthand": shorthand
  };
}

function astValue(value) {
  if (Array.isArray(value)) {
    return {
      "type": "ArrayExpression",
      "elements": _.map(value, e => astValue(e))
    };
  }

  if (_.isPlainObject(value)) {
    if (AST_OBJECT_TYPES.indexOf(value.type) !== -1) {
      return value;
    }

    if (value.oolType === 'ObjectReference') {
      return astVarRef(value.name, true);
    }

    if (value.oolType === 'RegExp') {
      let [literal] = esprima.tokenize(value.value);
      return {
        "type": "NewExpression",
        "callee": {
          "type": "Identifier",
          "name": "RegExp"
        },
        "arguments": [astLiteral(literal.value), ...(literal.regex.flags ? [astLiteral(literal.regex.flags)] : [])]
      };
    }

    let props = [];

    _.forOwn(value, (any, key) => {
      props.push(astMember(key, astValue(any)));
    });

    return {
      "type": "ObjectExpression",
      "properties": props
    };
  }

  if (_.isObject(value)) {
    throw new Error('Only plain object supported. Given: ' + JSON.stringify(value));
  }

  return astLiteral(value);
}

function astLiteral(value) {
  return {
    "type": "Literal",
    "value": value,
    "raw": JSON.stringify(value)
  };
}

function astAddMember(obj, member) {
  obj.properties.push(member);
}

function astPushInBody(obj, expr) {
  if (Array.isArray(obj.body)) {
    obj.body = obj.body.concat(_.castArray(expr));
  } else {
    obj.body.body = obj.body.body.concat(_.castArray(expr));
  }
}

function astFunction(name, params, body, generator = false, async = false) {
  return {
    "type": "FunctionDeclaration",
    "id": astId(name),
    "generator": generator,
    "expression": false,
    "async": async,
    "defaults": [],
    "params": astParams(params),
    "body": astBlock(body)
  };
}

function astAnonymousFunction(params, body, generator = false, async = false) {
  return {
    "type": "FunctionExpression",
    "id": null,
    "params": astParams(params),
    "defaults": [],
    "body": astBlock(body),
    "generator": generator,
    "expression": false,
    "async": async
  };
}

function astArrowFunction(params, body, generator = false, async = false) {
  return {
    "type": "ArrowFunctionExpression",
    "id": null,
    "params": astParams(params),
    "body": mapBody(body),
    "generator": generator,
    "expression": true,
    "async": async
  };
}

function astBlock(body) {
  return {
    "type": "BlockStatement",
    "body": Array.isArray(body) ? body : [body]
  };
}

function astMatchObject(idList, right, isConstant = true) {
  return {
    "type": "VariableDeclaration",
    "declarations": [{
      "type": "VariableDeclarator",
      "id": {
        "type": "ObjectPattern",
        "properties": _.map(idList, id => astMember(id, astId(id), true))
      },
      "init": right
    }],
    "kind": isConstant ? "const" : "let"
  };
}

function astExpression(expr, comment = false) {
  return {
    "type": "ExpressionStatement",
    "expression": expr,
    ...astLeadingComments(comment)
  };
}

function astAssign(left, right, comment = false) {
  return astExpression({
    "type": "AssignmentExpression",
    "operator": "=",
    "left": astVarRef(left),
    "right": astValue(right)
  }, comment);
}

function astConditional(test, consequent, alternate) {
  return {
    "type": "ConditionalExpression",
    "test": astValue(test),
    "consequent": astValue(consequent),
    "alternate": astValue(alternate)
  };
}

function astThrow(name, args) {
  return {
    "type": "ThrowStatement",
    "argument": {
      "type": "NewExpression",
      "callee": astVarRef(name),
      "arguments": mapArgs(args)
    }
  };
}

function astNot(expr) {
  return {
    "type": "UnaryExpression",
    "operator": "!",
    "argument": astValue(expr),
    "prefix": true
  };
}

function astReturn(val) {
  return {
    "type": "ReturnStatement",
    "argument": astValue(val)
  };
}

function astToCode(ast) {
  return escodegen.generate(ast, {
    format: {
      indent: {
        style: '    ',
        base: 0,
        adjustMultilineComment: false
      },
      newline: '\n',
      space: ' ',
      json: false,
      renumber: false,
      hexadecimal: false,
      quotes: 'single',
      escapeless: false,
      compact: false,
      parentheses: true,
      semicolons: true,
      safeConcatenation: false
    },
    comment: true
  });
}

module.exports = {
  astProgram,
  astRequire,
  astVarDeclare,
  astClassDeclare,
  astMemberMethod,
  astCall,
  astYield,
  astAwait,
  astThis,
  astId,
  astVarRef,
  astValue,
  astFunction,
  astAnonymousFunction,
  astArrowFunction,
  astIf,
  astConditional,
  astBinExp,
  astLogicalExp,
  astBlock,
  astMatchObject,
  astExpression,
  astAssign,
  astAddMember,
  astMember,
  astPushInBody,
  astThrow,
  astNot,
  astReturn,
  astLiteral,
  astParams,
  astArrayAccess,
  astToCode
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9tb2RlbGVyL3V0aWwvYXN0LmpzIl0sIm5hbWVzIjpbIl8iLCJyZXF1aXJlIiwiZXNjb2RlZ2VuIiwiZXNwcmltYSIsIkFTVF9PQkpFQ1RfVFlQRVMiLCJhc3RQYXJhbXMiLCJwYXJhbXMiLCJBcnJheSIsImlzQXJyYXkiLCJtYXAiLCJwIiwiYXN0SWQiLCJpc1BsYWluT2JqZWN0IiwidHlwZSIsIm9vbFR5cGUiLCJkZWZhdWx0VmFsdWUiLCJuYW1lIiwiYXN0TGl0ZXJhbCIsIkVycm9yIiwiSlNPTiIsInN0cmluZ2lmeSIsIm1hcEFyZ3MiLCJhcmdzIiwiaXNFbXB0eSIsImEiLCJhc3RWYWx1ZSIsIm1hcEJvZHkiLCJib2R5IiwiYXN0QmxvY2siLCJhc3RQcm9ncmFtIiwic3RyaWN0IiwiYXN0RXhwcmVzc2lvbiIsImFzdFJlcXVpcmUiLCJ2YXJOYW1lIiwicmVxdWlyZVBhdGgiLCJpc09iakRlc3RydWN0IiwiYXN0T2JqUGF0IiwiYXN0Q2FsbCIsImFzdExlYWRpbmdDb21tZW50cyIsImNvbW1lbnQiLCJsZW5ndGgiLCJhc3RWYXJEZWNsYXJlIiwibGVmdCIsInJpZ2h0IiwiaXNDb25zdGFudCIsImlzTmlsIiwiYXN0Q2xhc3NEZWNsYXJlIiwiY2xhc3NOYW1lIiwic3VwZXJDbGFzc05hbWUiLCJhc3QiLCJhc3RNZW1iZXJNZXRob2QiLCJnZW5lcmF0b3IiLCJhc3luYyIsImlzU3RhdGljIiwiYXN0QW5vbnltb3VzRnVuY3Rpb24iLCJqb2luIiwibGFzdCIsImFzdElmIiwidGVzdCIsImNvbnNlcXVlbnQiLCJhbHRlcm5hdGUiLCJhc3RCaW5FeHAiLCJvcGVyYXRvciIsImFzdExvZ2ljYWxFeHAiLCJmdW5jdGlvbk5hbWUiLCJhc3RWYXJSZWYiLCJhc3RZaWVsZCIsInRhcmdldCIsImRlbGVnYXRlIiwiYXN0QXdhaXQiLCJhc3RBcnJheUFjY2VzcyIsImluZGV4IiwiZWxlbWVudFN0eWxlIiwic3BsaXQiLCJyZXN1bHQiLCJwb3AiLCJhc3RUaGlzIiwia2V5cyIsImsiLCJhc3RNZW1iZXIiLCJrZXkiLCJhbnkiLCJzaG9ydGhhbmQiLCJ2YWx1ZSIsImUiLCJpbmRleE9mIiwibGl0ZXJhbCIsInRva2VuaXplIiwicmVnZXgiLCJmbGFncyIsInByb3BzIiwiZm9yT3duIiwicHVzaCIsImlzT2JqZWN0IiwiYXN0QWRkTWVtYmVyIiwib2JqIiwibWVtYmVyIiwicHJvcGVydGllcyIsImFzdFB1c2hJbkJvZHkiLCJleHByIiwiY29uY2F0IiwiY2FzdEFycmF5IiwiYXN0RnVuY3Rpb24iLCJhc3RBcnJvd0Z1bmN0aW9uIiwiYXN0TWF0Y2hPYmplY3QiLCJpZExpc3QiLCJpZCIsImFzdEFzc2lnbiIsImFzdENvbmRpdGlvbmFsIiwiYXN0VGhyb3ciLCJhc3ROb3QiLCJhc3RSZXR1cm4iLCJ2YWwiLCJhc3RUb0NvZGUiLCJnZW5lcmF0ZSIsImZvcm1hdCIsImluZGVudCIsInN0eWxlIiwiYmFzZSIsImFkanVzdE11bHRpbGluZUNvbW1lbnQiLCJuZXdsaW5lIiwic3BhY2UiLCJqc29uIiwicmVudW1iZXIiLCJoZXhhZGVjaW1hbCIsInF1b3RlcyIsImVzY2FwZWxlc3MiLCJjb21wYWN0IiwicGFyZW50aGVzZXMiLCJzZW1pY29sb25zIiwic2FmZUNvbmNhdGVuYXRpb24iLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQTs7OztBQU9BLE1BQU07QUFBRUEsRUFBQUE7QUFBRixJQUFRQyxPQUFPLENBQUMsVUFBRCxDQUFyQjs7QUFDQSxNQUFNQyxTQUFTLEdBQUdELE9BQU8sQ0FBQyxXQUFELENBQXpCOztBQUNBLE1BQU1FLE9BQU8sR0FBR0YsT0FBTyxDQUFDLFNBQUQsQ0FBdkI7O0FBRUEsTUFBTUcsZ0JBQWdCLEdBQUcsQ0FDckIsZ0JBRHFCLEVBRXJCLGtCQUZxQixFQUdyQixrQkFIcUIsRUFJckIsaUJBSnFCLEVBS3JCLHlCQUxxQixFQU1yQixvQkFOcUIsRUFPckIsaUJBUHFCLEVBUXJCLGtCQVJxQixFQVNyQixnQkFU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QUF3QmJiLEVBQUFBLFlBeEJhO0FBeUJiZixFQUFBQSxTQXpCYTtBQTBCYm1CLEVBQUFBLGFBMUJhO0FBMkJiVyxFQUFBQSxRQTNCYTtBQTRCYkMsRUFBQUEsTUE1QmE7QUE2QmJDLEVBQUFBLFNBN0JhO0FBOEJiOUYsRUFBQUEsVUE5QmE7QUErQmJaLEVBQUFBLFNBL0JhO0FBZ0NiaUUsRUFBQUEsY0FoQ2E7QUFpQ2IyQyxFQUFBQTtBQWpDYSxDQUFqQiIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEBtb2R1bGVcbiAqIEBpZ25vcmVcbiAqL1xuXG5jb25zdCB7IF8gfSA9IHJlcXVpcmUoJ3JrLXV0aWxzJyk7XG5jb25zdCBlc2NvZGVnZW4gPSByZXF1aXJlKCdlc2NvZGVnZW4nKTtcbmNvbnN0IGVzcHJpbWEgPSByZXF1aXJlKCdlc3ByaW1hJyk7XG5cbmNvbnN0IEFTVF9PQkpFQ1RfVFlQRVMgPSBbXG4gICAgJ1RoaXNFeHByZXNzaW9uJyxcbiAgICAnTWVtYmVyRXhwcmVzc2lvbicsXG4gICAgJ0JpbmFyeUV4cHJlc3Npb24nLFxuICAgICdVbmFyeUV4cHJlc3Npb24nLFxuICAgICdBcnJvd0Z1bmN0aW9uRXhwcmVzc2lvbicsXG4gICAgJ0Z1bmN0aW9uRXhwcmVzc2lvbicsXG4gICAgJ0FycmF5RXhwcmVzc2lvbicsXG4gICAgJ09iamVjdEV4cHJlc3Npb24nLFxuICAgICdDYWxsRXhwcmVzc2lvbicsXG4gICAgJ1lpZWxkRXhwcmVzc2lvbicsXG4gICAgJ0F3YWl0RXhwcmVzc2lvbicsXG4gICAgJ0Fzc2lnbm1lbnRFeHByZXNzaW9uJyxcbiAgICAnTGl0ZXJhbCcsXG4gICAgJ0lkZW50aWZpZXInXG5dO1xuXG5mdW5jdGlvbiBhc3RQYXJhbXMocGFyYW1zKSB7XG4gICAgcGFyYW1zID0gQXJyYXkuaXNBcnJheShwYXJhbXMpID8gcGFyYW1zIDogWyBwYXJhbXMgXTtcblxuICAgIHJldHVybiBwYXJhbXMubWFwKHAgPT4ge1xuICAgICAgICAgaWYgKHR5cGVvZiBwID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgIHJldHVybiBhc3RJZChwKTtcbiAgICAgICAgIH1cblxuICAgICAgICBpZiAoXy5pc1BsYWluT2JqZWN0KHApKSB7XG4gICAgICAgICAgICBpZiAocC50eXBlID09PSAnSWRlbnRpZmllcicgfHwgcC50eXBlID09PSAnQXNzaWdubWVudFBhdHRlcm4nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChwLm9vbFR5cGUgPT09ICdQYXJhbWV0ZXInKSB7XG4gICAgICAgICAgICAgICAgaWYgKHAuZGVmYXVsdFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJBc3NpZ25tZW50UGF0dGVyblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJsZWZ0XCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJJZGVudGlmaWVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IHAubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwicmlnaHRcIjogYXN0TGl0ZXJhbChwLmRlZmF1bHRWYWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gYXN0SWQocC5uYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBwYXJhbTogJyArIEpTT04uc3RyaW5naWZ5KHApKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gbWFwQXJncyhhcmdzKSB7XG4gICAgYXJncyA9IEFycmF5LmlzQXJyYXkoYXJncykgPyBhcmdzIDogWyBhcmdzIF07XG5cbiAgICBpZiAoXy5pc0VtcHR5KGFyZ3MpKSByZXR1cm4gW107XG5cbiAgICByZXR1cm4gYXJncy5tYXAoYSA9PiB7XG4gICAgICAgIGlmIChfLmlzUGxhaW5PYmplY3QoYSkgJiYgJ3R5cGUnIGluIGEpIHtcbiAgICAgICAgICAgIHJldHVybiBhO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGFzdFZhbHVlKGEpO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBtYXBCb2R5KGJvZHkpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShib2R5KSkge1xuICAgICAgICByZXR1cm4gYXN0QmxvY2soYm9keSk7XG4gICAgfVxuICAgIFxuICAgIGlmIChfLmlzUGxhaW5PYmplY3QoYm9keSkgJiYgJ3R5cGUnIGluIGJvZHkpIHtcbiAgICAgICAgcmV0dXJuIGJvZHk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFzdFZhbHVlKGJvZHkpO1xufVxuXG5mdW5jdGlvbiBhc3RQcm9ncmFtKHN0cmljdCA9IHRydWUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBcInR5cGVcIjogXCJQcm9ncmFtXCIsXG4gICAgICAgIFwiYm9keVwiOiBzdHJpY3QgPyBbYXN0RXhwcmVzc2lvbihhc3RWYWx1ZSgndXNlIHN0cmljdCcpKV0gOiBbXSxcbiAgICAgICAgXCJzb3VyY2VUeXBlXCI6IFwic2NyaXB0XCJcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBhc3RSZXF1aXJlKHZhck5hbWUsIHJlcXVpcmVQYXRoLCBpc09iakRlc3RydWN0ID0gZmFsc2UpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBcInR5cGVcIjogXCJWYXJpYWJsZURlY2xhcmF0aW9uXCIsXG4gICAgICAgIFwiZGVjbGFyYXRpb25zXCI6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJWYXJpYWJsZURlY2xhcmF0b3JcIixcbiAgICAgICAgICAgICAgICBcImlkXCI6IGlzT2JqRGVzdHJ1Y3QgPyBhc3RPYmpQYXQodmFyTmFtZSkgOiBhc3RJZCh2YXJOYW1lKSxcbiAgICAgICAgICAgICAgICBcImluaXRcIjogYXN0Q2FsbCgncmVxdWlyZScsIFsgYXN0VmFsdWUocmVxdWlyZVBhdGgpIF0pXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIFwia2luZFwiOiBcImNvbnN0XCJcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBhc3RMZWFkaW5nQ29tbWVudHMoY29tbWVudCwgdHlwZSA9ICdMaW5lJykge1xuICAgIHJldHVybiBjb21tZW50ID8geyBcImxlYWRpbmdDb21tZW50c1wiOiBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidHlwZVwiOiB0eXBlLFxuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBjb21tZW50LFxuICAgICAgICAgICAgXCJyYW5nZVwiOiBbXG4gICAgICAgICAgICAgICAgMSxcbiAgICAgICAgICAgICAgICBjb21tZW50Lmxlbmd0aCszXG4gICAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICBdfSA6IHt9O1xufVxuXG5mdW5jdGlvbiBhc3RWYXJEZWNsYXJlKGxlZnQsIHJpZ2h0LCBpc0NvbnN0YW50ID0gZmFsc2UsIGlzT2JqRGVzdHJ1Y3QgPSBmYWxzZSwgY29tbWVudCA9IGZhbHNlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgXCJ0eXBlXCI6IFwiVmFyaWFibGVEZWNsYXJhdGlvblwiLFxuICAgICAgICBcImRlY2xhcmF0aW9uc1wiOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiVmFyaWFibGVEZWNsYXJhdG9yXCIsXG4gICAgICAgICAgICAgICAgXCJpZFwiOiBpc09iakRlc3RydWN0ID8gYXN0T2JqUGF0KGxlZnQpIDogYXN0SWQobGVmdCksXG4gICAgICAgICAgICAgICAgXCJpbml0XCI6IF8uaXNOaWwocmlnaHQpID8gbnVsbCA6IGFzdFZhbHVlKHJpZ2h0KVxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBcImtpbmRcIjogaXNDb25zdGFudCA/IFwiY29uc3RcIiA6IFwibGV0XCIsXG4gICAgICAgIC4uLmFzdExlYWRpbmdDb21tZW50cyhjb21tZW50KVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGFzdENsYXNzRGVjbGFyZShjbGFzc05hbWUsIHN1cGVyQ2xhc3NOYW1lLCBib2R5LCBjb21tZW50ID0gZmFsc2UpIHtcbiAgICBsZXQgYXN0ID0ge1xuICAgICAgICBcInR5cGVcIjogXCJDbGFzc0RlY2xhcmF0aW9uXCIsXG4gICAgICAgIFwiaWRcIjogYXN0SWQoY2xhc3NOYW1lKSxcbiAgICAgICAgLi4uKGNvbW1lbnQgPyBhc3RMZWFkaW5nQ29tbWVudHMoYCpcXG4gKiAke2NvbW1lbnR9XFxuICogQGNsYXNzXFxuIGAsICdCbG9jaycpIDoge30pXG4gICAgfTtcblxuICAgIGlmIChzdXBlckNsYXNzTmFtZSkge1xuICAgICAgICBhc3RbJ3N1cGVyQ2xhc3MnXSA9IGFzdElkKHN1cGVyQ2xhc3NOYW1lKTtcbiAgICB9XG5cbiAgICBhc3RbJ2JvZHknXSA9IHtcbiAgICAgICAgXCJ0eXBlXCI6IFwiQ2xhc3NCb2R5XCIsXG4gICAgICAgIFwiYm9keVwiOiBib2R5ID8gKEFycmF5LmlzQXJyYXkoYm9keSkgPyBib2R5IDogWyBib2R5IF0pIDogW11cbiAgICB9O1xuXG4gICAgcmV0dXJuIGFzdDtcbn1cblxuZnVuY3Rpb24gYXN0TWVtYmVyTWV0aG9kKG5hbWUsIHBhcmFtcywgYm9keSwgZ2VuZXJhdG9yID0gZmFsc2UsIGFzeW5jID0gZmFsc2UsIGlzU3RhdGljID0gZmFsc2UsIGNvbW1lbnQgPSBmYWxzZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIFwidHlwZVwiOiBcIk1ldGhvZERlZmluaXRpb25cIixcbiAgICAgICAgXCJrZXlcIjogYXN0SWQobmFtZSksXG4gICAgICAgIFwiY29tcHV0ZWRcIjogZmFsc2UsXG4gICAgICAgIFwidmFsdWVcIjogYXN0QW5vbnltb3VzRnVuY3Rpb24ocGFyYW1zLCBib2R5LCBnZW5lcmF0b3IsIGFzeW5jKSxcbiAgICAgICAgXCJraW5kXCI6IFwibWV0aG9kXCIsXG4gICAgICAgIFwic3RhdGljXCI6IGlzU3RhdGljLFxuICAgICAgICAvL1wiKlxcbiAqIFxcbiAqIEBwYXJhbSBpZGVudGl0eVxcbiAqIEBwYXJhbSBwYXNzd29yZFxcbiAqIEByZXR1cm5zIHsqfVxcbiBcIlxuICAgICAgICAuLi4oY29tbWVudCA/IGFzdExlYWRpbmdDb21tZW50cyhgKlxcbiAqICR7Y29tbWVudH0ke3BhcmFtcy5tYXAocCA9PiBgXFxuICogQHBhcmFtICR7cH1gKS5qb2luKCcnKX0ke0FycmF5LmlzQXJyYXkoYm9keSkgJiYgXy5sYXN0KGJvZHkpLnR5cGUgPT09ICdSZXR1cm5TdGF0ZW1lbnQnID8gJ1xcbiAqIEByZXR1cm5zIHsqfScgOiAnJ31cXG4gYCwgJ0Jsb2NrJykgOiB7fSlcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBhc3RJZih0ZXN0LCBjb25zZXF1ZW50LCBhbHRlcm5hdGUsIGNvbW1lbnQgPSBmYWxzZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIFwidHlwZVwiOiBcIklmU3RhdGVtZW50XCIsXG4gICAgICAgIFwidGVzdFwiOiBhc3RWYWx1ZSh0ZXN0KSxcbiAgICAgICAgXCJjb25zZXF1ZW50XCI6IG1hcEJvZHkoY29uc2VxdWVudCksXG4gICAgICAgIFwiYWx0ZXJuYXRlXCI6IF8uaXNOaWwoYWx0ZXJuYXRlKSA/IG51bGwgOiBtYXBCb2R5KGFsdGVybmF0ZSksXG4gICAgICAgIC4uLmFzdExlYWRpbmdDb21tZW50cyhjb21tZW50KVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGFzdEJpbkV4cChsZWZ0LCBvcGVyYXRvciwgcmlnaHQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBcInR5cGVcIjogXCJCaW5hcnlFeHByZXNzaW9uXCIsXG4gICAgICAgIFwib3BlcmF0b3JcIjogb3BlcmF0b3IsXG4gICAgICAgIFwibGVmdFwiOiBhc3RWYWx1ZShsZWZ0KSxcbiAgICAgICAgXCJyaWdodFwiOiBhc3RWYWx1ZShyaWdodClcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGFzdExvZ2ljYWxFeHAobGVmdCwgb3BlcmF0b3IsIHJpZ2h0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgXCJ0eXBlXCI6IFwiTG9naWNhbEV4cHJlc3Npb25cIixcbiAgICAgICAgXCJvcGVyYXRvclwiOiBvcGVyYXRvcixcbiAgICAgICAgXCJsZWZ0XCI6IGFzdFZhbHVlKGxlZnQpLFxuICAgICAgICBcInJpZ2h0XCI6IGFzdFZhbHVlKHJpZ2h0KVxuICAgIH1cbn1cblxuZnVuY3Rpb24gYXN0Q2FsbChmdW5jdGlvbk5hbWUsIGFyZ3MpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBcInR5cGVcIjogXCJDYWxsRXhwcmVzc2lvblwiLFxuICAgICAgICBcImNhbGxlZVwiOiBfLmlzUGxhaW5PYmplY3QoZnVuY3Rpb25OYW1lKSA/IGZ1bmN0aW9uTmFtZSA6IGFzdFZhclJlZihmdW5jdGlvbk5hbWUpLFxuICAgICAgICBcImFyZ3VtZW50c1wiOiBtYXBBcmdzKGFyZ3MpXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gYXN0WWllbGQodGFyZ2V0LCBkZWxlZ2F0ZSA9IGZhbHNlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgXCJ0eXBlXCI6IFwiWWllbGRFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiYXJndW1lbnRcIjogdGFyZ2V0LFxuICAgICAgICBcImRlbGVnYXRlXCI6IGRlbGVnYXRlXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gYXN0QXdhaXQoZnVuY3Rpb25OYW1lLCBhcmdzKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgXCJ0eXBlXCI6IFwiQXdhaXRFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiYXJndW1lbnRcIjogYXN0Q2FsbChmdW5jdGlvbk5hbWUsIGFyZ3MpXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gYXN0QXJyYXlBY2Nlc3MobmFtZSwgaW5kZXgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBcInR5cGVcIjogXCJNZW1iZXJFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiY29tcHV0ZWRcIjogdHJ1ZSxcbiAgICAgICAgXCJvYmplY3RcIjogYXN0VmFyUmVmKG5hbWUpLFxuICAgICAgICBcInByb3BlcnR5XCI6IHtcbiAgICAgICAgICAgIFwidHlwZVwiOiBcIkxpdGVyYWxcIixcbiAgICAgICAgICAgIFwidmFsdWVcIjogaW5kZXgsXG4gICAgICAgICAgICBcInJhd1wiOiBgJHtpbmRleH1gXG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGFzdFZhclJlZihuYW1lLCBlbGVtZW50U3R5bGUgPSBmYWxzZSkge1xuICAgIGlmIChfLmlzUGxhaW5PYmplY3QobmFtZSkpIHtcbiAgICAgICAgaWYgKG5hbWUudHlwZSA9PT0gJ01lbWJlckV4cHJlc3Npb24nIHx8IG5hbWUudHlwZSA9PT0gJ0lkZW50aWZpZXInKSB7XG4gICAgICAgICAgICByZXR1cm4gbmFtZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChuYW1lLm9vbFR5cGUgPT09ICdPYmplY3RSZWZlcmVuY2UnKSB7XG4gICAgICAgICAgICByZXR1cm4gYXN0VmFyUmVmKG5hbWUubmFtZSwgZWxlbWVudFN0eWxlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCByZWZlcmVuY2U6ICcgKyBKU09OLnN0cmluZ2lmeShuYW1lKSk7XG4gICAgfVxuXG4gICAgbGV0IHAgPSBuYW1lLnNwbGl0KCcuJyk7XG4gICAgaWYgKHAubGVuZ3RoID4gMSkge1xuICAgICAgICAvL3AucmV2ZXJzZSgpO1xuICAgICAgICBsZXQgcmVzdWx0ID0ge1xuICAgICAgICAgICAgXCJ0eXBlXCI6IFwiTWVtYmVyRXhwcmVzc2lvblwiLFxuICAgICAgICAgICAgXCJjb21wdXRlZFwiOiBlbGVtZW50U3R5bGUsXG4gICAgICAgICAgICBcInByb3BlcnR5XCI6IGVsZW1lbnRTdHlsZSA/IGFzdExpdGVyYWwocC5wb3AoKSkgOiBhc3RJZChwLnBvcCgpKVxuICAgICAgICB9O1xuXG4gICAgICAgIGxldCBsYXN0ID0gcmVzdWx0O1xuXG4gICAgICAgIHdoaWxlIChwLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGxhc3RbXCJvYmplY3RcIl0gPSB7XG4gICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiTWVtYmVyRXhwcmVzc2lvblwiLFxuICAgICAgICAgICAgICAgIFwiY29tcHV0ZWRcIjogZWxlbWVudFN0eWxlLFxuICAgICAgICAgICAgICAgIFwicHJvcGVydHlcIjogZWxlbWVudFN0eWxlID8gYXN0TGl0ZXJhbChwLnBvcCgpKSA6IGFzdElkKHAucG9wKCkpXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBsYXN0ID0gbGFzdFtcIm9iamVjdFwiXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxhc3RbXCJvYmplY3RcIl0gPSBwWzBdID09PSAndGhpcycgXG4gICAgICAgICAgICA/IGFzdFRoaXMoKVxuICAgICAgICAgICAgOiBhc3RJZChwWzBdKTtcblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBhc3RJZChuYW1lKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGFzdFRoaXMoKSB7XG4gICAgcmV0dXJuIHsgXCJ0eXBlXCI6IFwiVGhpc0V4cHJlc3Npb25cIiB9O1xufVxuXG5mdW5jdGlvbiBhc3RJZChuYW1lKSB7XG4gICAgaWYgKHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgXCJ0eXBlXCI6IFwiSWRlbnRpZmllclwiLFxuICAgICAgICAgICAgXCJuYW1lXCI6IG5hbWVcbiAgICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKF8uaXNQbGFpbk9iamVjdChuYW1lKSAmJiBuYW1lLnR5cGUgPT09ICdJZGVudGlmaWVyJykge1xuICAgICAgICByZXR1cm4gbmFtZTtcbiAgICB9XG5cbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgaWRlbnRpZmllciBuYW1lOiAnICsgSlNPTi5zdHJpbmdpZnkobmFtZSkpO1xufVxuXG5mdW5jdGlvbiBhc3RPYmpQYXQoa2V5cykge1xuICAgIHJldHVybiB7XG4gICAgICAgIFwidHlwZVwiOiBcIk9iamVjdFBhdHRlcm5cIixcbiAgICAgICAgXCJwcm9wZXJ0aWVzXCI6IF8ubWFwKGtleXMsIChrKSA9PiAoe1xuICAgICAgICAgICAgXCJ0eXBlXCI6IFwiUHJvcGVydHlcIixcbiAgICAgICAgICAgIFwia2V5XCI6IGFzdElkKGspLFxuICAgICAgICAgICAgXCJjb21wdXRlZFwiOiBmYWxzZSxcbiAgICAgICAgICAgIFwidmFsdWVcIjogYXN0SWQoayksXG4gICAgICAgICAgICBcImtpbmRcIjogXCJpbml0XCIsXG4gICAgICAgICAgICBcIm1ldGhvZFwiOiBmYWxzZSxcbiAgICAgICAgICAgIFwic2hvcnRoYW5kXCI6IHRydWVcbiAgICAgICAgfSkpXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gYXN0TWVtYmVyKGtleSwgYW55LCBzaG9ydGhhbmQgPSBmYWxzZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIFwidHlwZVwiOiBcIlByb3BlcnR5XCIsXG4gICAgICAgIFwia2V5XCI6IGFzdElkKGtleSksXG4gICAgICAgIFwiY29tcHV0ZWRcIjogZmFsc2UsXG4gICAgICAgIFwidmFsdWVcIjogYW55LFxuICAgICAgICBcImtpbmRcIjogXCJpbml0XCIsXG4gICAgICAgIFwibWV0aG9kXCI6IGZhbHNlLFxuICAgICAgICBcInNob3J0aGFuZFwiOiBzaG9ydGhhbmRcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBhc3RWYWx1ZSh2YWx1ZSkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgXCJ0eXBlXCI6IFwiQXJyYXlFeHByZXNzaW9uXCIsXG4gICAgICAgICAgICBcImVsZW1lbnRzXCI6IF8ubWFwKHZhbHVlLCBlID0+IGFzdFZhbHVlKGUpKVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGlmIChfLmlzUGxhaW5PYmplY3QodmFsdWUpKSB7XG4gICAgICAgIGlmIChBU1RfT0JKRUNUX1RZUEVTLmluZGV4T2YodmFsdWUudHlwZSkgIT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodmFsdWUub29sVHlwZSA9PT0gJ09iamVjdFJlZmVyZW5jZScpIHtcbiAgICAgICAgICAgIHJldHVybiBhc3RWYXJSZWYodmFsdWUubmFtZSwgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodmFsdWUub29sVHlwZSA9PT0gJ1JlZ0V4cCcpIHtcbiAgICAgICAgICAgIGxldCBbIGxpdGVyYWwgXSA9IGVzcHJpbWEudG9rZW5pemUodmFsdWUudmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJOZXdFeHByZXNzaW9uXCIsXG4gICAgICAgICAgICAgICAgXCJjYWxsZWVcIjoge1xuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJJZGVudGlmaWVyXCIsXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIlJlZ0V4cFwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBcImFyZ3VtZW50c1wiOiBbXG4gICAgICAgICAgICAgICAgICAgIGFzdExpdGVyYWwobGl0ZXJhbC52YWx1ZSksXG4gICAgICAgICAgICAgICAgICAgIC4uLihsaXRlcmFsLnJlZ2V4LmZsYWdzID8gWyBhc3RMaXRlcmFsKGxpdGVyYWwucmVnZXguZmxhZ3MpIF0gOiBbXSlcbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgLypcbiAgICAgICAgaWYgKHZhbHVlLnR5cGUgPT09ICdGdW5jdGlvbkNhbGwnKSB7XG4gICAgICAgICAgICByZXR1cm4gYXN0Q2FsbCh2YWx1ZS5uYW1lLCB2YWx1ZS5hcmdzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh2YWx1ZS50eXBlID09PSAnRnVuY3RvcicpIHtcbiAgICAgICAgICAgIHJldHVybiBhc3RBcnJvd0Z1bmN0aW9uKHZhbHVlLmFyZ3MsIGFzdFZhbHVlKHZhbHVlLmJvZHkpLCBmYWxzZSwgdmFsdWUuYXN5bmMpO1xuICAgICAgICB9XG4gICAgICAgICovXG5cbiAgICAgICAgbGV0IHByb3BzID0gW107XG5cbiAgICAgICAgXy5mb3JPd24odmFsdWUsIChhbnksIGtleSkgPT4ge1xuICAgICAgICAgICAgcHJvcHMucHVzaChhc3RNZW1iZXIoa2V5LCBhc3RWYWx1ZShhbnkpKSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBcInR5cGVcIjogXCJPYmplY3RFeHByZXNzaW9uXCIsXG4gICAgICAgICAgICBcInByb3BlcnRpZXNcIjogcHJvcHNcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAoXy5pc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdPbmx5IHBsYWluIG9iamVjdCBzdXBwb3J0ZWQuIEdpdmVuOiAnICsgSlNPTi5zdHJpbmdpZnkodmFsdWUpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXN0TGl0ZXJhbCh2YWx1ZSk7XG59XG5cbmZ1bmN0aW9uIGFzdExpdGVyYWwodmFsdWUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBcInR5cGVcIjogXCJMaXRlcmFsXCIsXG4gICAgICAgIFwidmFsdWVcIjogdmFsdWUsXG4gICAgICAgIFwicmF3XCI6IEpTT04uc3RyaW5naWZ5KHZhbHVlKVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGFzdEFkZE1lbWJlcihvYmosIG1lbWJlcikge1xuICAgIG9iai5wcm9wZXJ0aWVzLnB1c2gobWVtYmVyKTtcbn1cblxuZnVuY3Rpb24gYXN0UHVzaEluQm9keShvYmosIGV4cHIpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShvYmouYm9keSkpIHtcbiAgICAgICAgb2JqLmJvZHkgPSBvYmouYm9keS5jb25jYXQoXy5jYXN0QXJyYXkoZXhwcikpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIG9iai5ib2R5LmJvZHkgPSBvYmouYm9keS5ib2R5LmNvbmNhdChfLmNhc3RBcnJheShleHByKSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBhc3RGdW5jdGlvbihuYW1lLCBwYXJhbXMsIGJvZHksIGdlbmVyYXRvciA9IGZhbHNlLCBhc3luYyA9IGZhbHNlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgXCJ0eXBlXCI6IFwiRnVuY3Rpb25EZWNsYXJhdGlvblwiLFxuICAgICAgICBcImlkXCI6IGFzdElkKG5hbWUpLFxuICAgICAgICBcImdlbmVyYXRvclwiOiBnZW5lcmF0b3IsXG4gICAgICAgIFwiZXhwcmVzc2lvblwiOiBmYWxzZSxcbiAgICAgICAgXCJhc3luY1wiOiBhc3luYyxcbiAgICAgICAgXCJkZWZhdWx0c1wiOiBbXSxcbiAgICAgICAgXCJwYXJhbXNcIjogYXN0UGFyYW1zKHBhcmFtcyksXG4gICAgICAgIFwiYm9keVwiOiBhc3RCbG9jayhib2R5KVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGFzdEFub255bW91c0Z1bmN0aW9uKHBhcmFtcywgYm9keSwgZ2VuZXJhdG9yID0gZmFsc2UsIGFzeW5jID0gZmFsc2UpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBcInR5cGVcIjogXCJGdW5jdGlvbkV4cHJlc3Npb25cIixcbiAgICAgICAgXCJpZFwiOiBudWxsLFxuICAgICAgICBcInBhcmFtc1wiOiBhc3RQYXJhbXMocGFyYW1zKSxcbiAgICAgICAgXCJkZWZhdWx0c1wiOiBbXSxcbiAgICAgICAgXCJib2R5XCI6IGFzdEJsb2NrKGJvZHkpLFxuICAgICAgICBcImdlbmVyYXRvclwiOiBnZW5lcmF0b3IsXG4gICAgICAgIFwiZXhwcmVzc2lvblwiOiBmYWxzZSxcbiAgICAgICAgXCJhc3luY1wiOiBhc3luY1xuICAgIH07XG59XG5cbmZ1bmN0aW9uIGFzdEFycm93RnVuY3Rpb24ocGFyYW1zLCBib2R5LCBnZW5lcmF0b3IgPSBmYWxzZSwgYXN5bmMgPSBmYWxzZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIFwidHlwZVwiOiBcIkFycm93RnVuY3Rpb25FeHByZXNzaW9uXCIsXG4gICAgICAgIFwiaWRcIjogbnVsbCxcbiAgICAgICAgXCJwYXJhbXNcIjogYXN0UGFyYW1zKHBhcmFtcyksXG4gICAgICAgIFwiYm9keVwiOiBtYXBCb2R5KGJvZHkpLFxuICAgICAgICBcImdlbmVyYXRvclwiOiBnZW5lcmF0b3IsXG4gICAgICAgIFwiZXhwcmVzc2lvblwiOiB0cnVlLFxuICAgICAgICBcImFzeW5jXCI6IGFzeW5jXG4gICAgfVxufVxuXG5mdW5jdGlvbiBhc3RCbG9jayhib2R5KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgXCJ0eXBlXCI6IFwiQmxvY2tTdGF0ZW1lbnRcIixcbiAgICAgICAgXCJib2R5XCI6IEFycmF5LmlzQXJyYXkoYm9keSkgPyBib2R5IDogWyBib2R5IF1cbiAgICB9O1xufVxuXG5mdW5jdGlvbiBhc3RNYXRjaE9iamVjdChpZExpc3QsIHJpZ2h0LCBpc0NvbnN0YW50ID0gdHJ1ZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIFwidHlwZVwiOiBcIlZhcmlhYmxlRGVjbGFyYXRpb25cIixcbiAgICAgICAgXCJkZWNsYXJhdGlvbnNcIjogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIlZhcmlhYmxlRGVjbGFyYXRvclwiLFxuICAgICAgICAgICAgICAgIFwiaWRcIjoge1xuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJPYmplY3RQYXR0ZXJuXCIsXG4gICAgICAgICAgICAgICAgICAgIFwicHJvcGVydGllc1wiOiBfLm1hcChpZExpc3QsIGlkID0+IGFzdE1lbWJlcihpZCwgYXN0SWQoaWQpLCB0cnVlKSlcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFwiaW5pdFwiOiByaWdodFxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBcImtpbmRcIjogaXNDb25zdGFudCA/IFwiY29uc3RcIiA6IFwibGV0XCJcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBhc3RFeHByZXNzaW9uKGV4cHIsIGNvbW1lbnQgPSBmYWxzZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIFwidHlwZVwiOiBcIkV4cHJlc3Npb25TdGF0ZW1lbnRcIixcbiAgICAgICAgXCJleHByZXNzaW9uXCI6IGV4cHIsXG4gICAgICAgIC4uLmFzdExlYWRpbmdDb21tZW50cyhjb21tZW50KVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGFzdEFzc2lnbihsZWZ0LCByaWdodCwgY29tbWVudCA9IGZhbHNlKSB7XG4gICAgcmV0dXJuIGFzdEV4cHJlc3Npb24oe1xuICAgICAgICBcInR5cGVcIjogXCJBc3NpZ25tZW50RXhwcmVzc2lvblwiLFxuICAgICAgICBcIm9wZXJhdG9yXCI6IFwiPVwiLFxuICAgICAgICBcImxlZnRcIjogYXN0VmFyUmVmKGxlZnQpLFxuICAgICAgICBcInJpZ2h0XCI6IGFzdFZhbHVlKHJpZ2h0KVxuICAgIH0sIGNvbW1lbnQpO1xufVxuXG5mdW5jdGlvbiBhc3RDb25kaXRpb25hbCh0ZXN0LCBjb25zZXF1ZW50LCBhbHRlcm5hdGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBcInR5cGVcIjogXCJDb25kaXRpb25hbEV4cHJlc3Npb25cIixcbiAgICAgICAgXCJ0ZXN0XCI6IGFzdFZhbHVlKHRlc3QpLFxuICAgICAgICBcImNvbnNlcXVlbnRcIjogYXN0VmFsdWUoY29uc2VxdWVudCksXG4gICAgICAgIFwiYWx0ZXJuYXRlXCI6IGFzdFZhbHVlKGFsdGVybmF0ZSlcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGFzdFRocm93KG5hbWUsIGFyZ3MpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBcInR5cGVcIjogXCJUaHJvd1N0YXRlbWVudFwiLFxuICAgICAgICBcImFyZ3VtZW50XCI6IHtcbiAgICAgICAgICAgIFwidHlwZVwiOiBcIk5ld0V4cHJlc3Npb25cIixcbiAgICAgICAgICAgIFwiY2FsbGVlXCI6IGFzdFZhclJlZihuYW1lKSxcbiAgICAgICAgICAgIFwiYXJndW1lbnRzXCI6IG1hcEFyZ3MoYXJncylcbiAgICAgICAgfVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGFzdE5vdChleHByKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgXCJ0eXBlXCI6IFwiVW5hcnlFeHByZXNzaW9uXCIsXG4gICAgICAgIFwib3BlcmF0b3JcIjogXCIhXCIsXG4gICAgICAgIFwiYXJndW1lbnRcIjogYXN0VmFsdWUoZXhwciksXG4gICAgICAgIFwicHJlZml4XCI6IHRydWVcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBhc3RSZXR1cm4odmFsKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgXCJ0eXBlXCI6IFwiUmV0dXJuU3RhdGVtZW50XCIsXG4gICAgICAgIFwiYXJndW1lbnRcIjogYXN0VmFsdWUodmFsKVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGFzdFRvQ29kZShhc3QpIHsgICAgICAgXG4gICAgcmV0dXJuIGVzY29kZWdlbi5nZW5lcmF0ZShhc3QsIHtcbiAgICAgICAgZm9ybWF0OiB7XG4gICAgICAgICAgICBpbmRlbnQ6IHtcbiAgICAgICAgICAgICAgICBzdHlsZTogJyAgICAnLFxuICAgICAgICAgICAgICAgIGJhc2U6IDAsXG4gICAgICAgICAgICAgICAgYWRqdXN0TXVsdGlsaW5lQ29tbWVudDogZmFsc2VcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBuZXdsaW5lOiAnXFxuJyxcbiAgICAgICAgICAgIHNwYWNlOiAnICcsXG4gICAgICAgICAgICBqc29uOiBmYWxzZSxcbiAgICAgICAgICAgIHJlbnVtYmVyOiBmYWxzZSxcbiAgICAgICAgICAgIGhleGFkZWNpbWFsOiBmYWxzZSxcbiAgICAgICAgICAgIHF1b3RlczogJ3NpbmdsZScsXG4gICAgICAgICAgICBlc2NhcGVsZXNzOiBmYWxzZSxcbiAgICAgICAgICAgIGNvbXBhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgcGFyZW50aGVzZXM6IHRydWUsXG4gICAgICAgICAgICBzZW1pY29sb25zOiB0cnVlLFxuICAgICAgICAgICAgc2FmZUNvbmNhdGVuYXRpb246IGZhbHNlXG4gICAgICAgIH0sXG4gICAgICAgIGNvbW1lbnQ6IHRydWVcbiAgICB9KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgYXN0UHJvZ3JhbSxcbiAgICBhc3RSZXF1aXJlLFxuICAgIGFzdFZhckRlY2xhcmUsXG4gICAgYXN0Q2xhc3NEZWNsYXJlLFxuICAgIGFzdE1lbWJlck1ldGhvZCxcbiAgICBhc3RDYWxsLFxuICAgIGFzdFlpZWxkLFxuICAgIGFzdEF3YWl0LFxuICAgIGFzdFRoaXMsXG4gICAgYXN0SWQsXG4gICAgYXN0VmFyUmVmLFxuICAgIGFzdFZhbHVlLFxuICAgIGFzdEZ1bmN0aW9uLFxuICAgIGFzdEFub255bW91c0Z1bmN0aW9uLFxuICAgIGFzdEFycm93RnVuY3Rpb24sXG4gICAgYXN0SWYsXG4gICAgYXN0Q29uZGl0aW9uYWwsXG4gICAgYXN0QmluRXhwLFxuICAgIGFzdExvZ2ljYWxFeHAsXG4gICAgYXN0QmxvY2ssXG4gICAgYXN0TWF0Y2hPYmplY3QsXG4gICAgYXN0RXhwcmVzc2lvbixcbiAgICBhc3RBc3NpZ24sXG4gICAgYXN0QWRkTWVtYmVyLFxuICAgIGFzdE1lbWJlcixcbiAgICBhc3RQdXNoSW5Cb2R5LFxuICAgIGFzdFRocm93LFxuICAgIGFzdE5vdCxcbiAgICBhc3RSZXR1cm4sXG4gICAgYXN0TGl0ZXJhbCxcbiAgICBhc3RQYXJhbXMsXG4gICAgYXN0QXJyYXlBY2Nlc3MsXG4gICAgYXN0VG9Db2RlXG59OyJdfQ==