"use strict";

require("source-map-support/register");

const {
  tryRequire
} = require('@k-suite/app/lib/utils/Helpers');

let flInstance, instance;

module.exports = function (info, i18n, options) {
  if (!(info.type === 'text')) {
    throw new Error('"uuid" should be a text field.');
  }

  const hyperid = tryRequire('hyperid');

  if (info.fixedLength) {
    if (!flInstance) {
      flInstance = hyperid({
        fixedLength: true
      });
    }

    return flInstance();
  }

  if (!instance) {
    instance = hyperid();
  }

  return instance();
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9ydW50aW1lL2F1dG8vaHlwZXJpZC5qcyJdLCJuYW1lcyI6WyJ0cnlSZXF1aXJlIiwicmVxdWlyZSIsImZsSW5zdGFuY2UiLCJpbnN0YW5jZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJpbmZvIiwiaTE4biIsIm9wdGlvbnMiLCJ0eXBlIiwiaHlwZXJpZCIsImZpeGVkTGVuZ3RoIl0sIm1hcHBpbmdzIjoiQUFBQTs7OztBQUVBLE1BQU07QUFBRUEsRUFBQUE7QUFBRixJQUFpQkMsT0FBTyxDQUFDLGdDQUFELENBQTlCOztBQUVBLElBQUlDLFVBQUosRUFBZ0JDLFFBQWhCOztBQUVBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUIsVUFBVUMsSUFBVixFQUFnQkMsSUFBaEIsRUFBc0JDLE9BQXRCLEVBQStCO0FBQUEsUUFDdkNGLElBQUksQ0FBQ0csSUFBTCxLQUFjLE1BRHlCO0FBQUEsb0JBQ2pCLGdDQURpQjtBQUFBOztBQUc1QyxRQUFNQyxPQUFPLEdBQUdWLFVBQVUsQ0FBQyxTQUFELENBQTFCOztBQUVBLE1BQUlNLElBQUksQ0FBQ0ssV0FBVCxFQUFzQjtBQUNsQixRQUFJLENBQUNULFVBQUwsRUFBaUI7QUFDYkEsTUFBQUEsVUFBVSxHQUFHUSxPQUFPLENBQUM7QUFBQ0MsUUFBQUEsV0FBVyxFQUFFO0FBQWQsT0FBRCxDQUFwQjtBQUNIOztBQUVELFdBQU9ULFVBQVUsRUFBakI7QUFDSDs7QUFFRCxNQUFJLENBQUNDLFFBQUwsRUFBZTtBQUNYQSxJQUFBQSxRQUFRLEdBQUdPLE9BQU8sRUFBbEI7QUFDSDs7QUFFRCxTQUFPUCxRQUFRLEVBQWY7QUFDSCxDQWxCRCIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5jb25zdCB7IHRyeVJlcXVpcmUgfSA9IHJlcXVpcmUoJ0BrLXN1aXRlL2FwcC9saWIvdXRpbHMvSGVscGVycycpO1xuXG5sZXQgZmxJbnN0YW5jZSwgaW5zdGFuY2U7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGluZm8sIGkxOG4sIG9wdGlvbnMpIHtcbiAgICBwcmU6IGluZm8udHlwZSA9PT0gJ3RleHQnLCAnXCJ1dWlkXCIgc2hvdWxkIGJlIGEgdGV4dCBmaWVsZC4nO1xuXG4gICAgY29uc3QgaHlwZXJpZCA9IHRyeVJlcXVpcmUoJ2h5cGVyaWQnKTtcblxuICAgIGlmIChpbmZvLmZpeGVkTGVuZ3RoKSB7XG4gICAgICAgIGlmICghZmxJbnN0YW5jZSkge1xuICAgICAgICAgICAgZmxJbnN0YW5jZSA9IGh5cGVyaWQoe2ZpeGVkTGVuZ3RoOiB0cnVlfSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiBmbEluc3RhbmNlKCk7XG4gICAgfVxuICAgIFxuICAgIGlmICghaW5zdGFuY2UpIHtcbiAgICAgICAgaW5zdGFuY2UgPSBoeXBlcmlkKCk7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBpbnN0YW5jZSgpO1xufSJdfQ==